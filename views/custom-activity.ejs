<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Viber OA Custom Activity</title>
    <link rel="stylesheet" type="text/css" href="/assets/styles/salesforce-lightning-design-system.css" />
    <script type="text/javascript" src="/js/libs/postmonger.min.js"></script>
    <style>
        div#previewContent{
            padding-top:20px;
            background-color: white;
            border: 1px solid #dddbda;
            min-height: 700px;
        }
    </style>
</head>

<body>
    <article class="slds-card">
        <div class="slds-card__header slds-grid">
            <header class="slds-media slds-media_center slds-has-flexi-truncate">
                <div class="slds-media__figure">
                    <span class="slds-icon_container slds-icon-standard-apps" title="Zalo Content">
                        <svg class="slds-icon slds-icon_small" aria-hidden="true">
                            <use xlink:href="/assets/icons/standard-sprite/svg/symbols.svg#apps"></use>
                        </svg>
                        <span class="slds-assistive-text">Viber OA Custom Activity</span>
                    </span>
                </div>
                <div class="slds-media__body">
                    <h2 class="slds-card__header-title">
                        <a href="#" class="slds-card__header-link slds-truncate" title="Messenger Content">
                            <span>Viber OA Custom Activity</span>
                        </a>
                    </h2>
                </div>
            </header>
        </div>
        <div class="slds-card__body slds-card__body_inner">
          <div class="slds-grid slds-gutters">
            <div class="slds-col slds-size_1-of-3" id="workspace">
                <div class="slds-form-element slds-form-element_stacked">
                    <label class="slds-form-element__label" for="oa-id-select">OA</label>
                    <div class="slds-form-element__control">
                        <div class="slds-select_container">
                            <select class="slds-select" id="oa-id-select">
                                <option value="">Please select</option>
                                <% OAs.forEach(item => { %>
                                    <option value="<%=item.Viber_OA_Id %>"><%=item.Viber_OA_Name%></option>
                                 <%})%>   
                            </select>
                        </div>
                    </div>
                </div>
                <div class="slds-form-element slds-form-element_stacked">
                    <label class="slds-form-element__label" for="messageType">Viber Message Type</label>
                    <div class="slds-form-element__control">
                        <div class="slds-select_container">
                            <select class="slds-select" id="messageType" onchange="loadContent(this.value)" >
                                <option value="">Please select</option>
                                <option value="text">Viber Content</option>
                                <!--
                                <option value="picture">picture</option>
                                <option value="video">video</option>
                                <option value="file">file</option>
                                <option value="location">location</option>
                                <option value="contact">contact</option>
                                <option value="sticker">sticker</option>
                                <option value="carousel">carousel</option>
                                <option value="content">content</option>
                                <option value="url">url</option> -->
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="slds-form-element slds-form-element_stacked">
                    <label class="slds-form-element__label" for="content-name-select">Content Name / Template Name</label>
                    <div class="slds-form-element__control">
                        <div class="slds-select_container">
                            <select class="slds-select" id="content-name-select" onchange="loadPreviewContent(this.value)">
                                <option value="">Please select</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="slds-form-element slds-form-element_stacked">
                    <label class="slds-form-element__label" for="data-extension-name-select">Data Extension Name</label>
                    <div class="slds-form-element__control">
                        <div class="slds-select_container">
                            <select class="slds-select" id="data-extension-name-select" onchange="loadDEFields(this.value)">
                                <option value="">Please select</option>
                                <% dataExtensions.forEach(item => { %>
                                    <option value="<%=item.CustomerKey %>"><%=item.Name%></option>
                                 <%})%>   
                            </select>
                        </div>
                    </div>
                </div>
                <div class="slds-form-element slds-form-element_stacked">
                    <label class="slds-form-element__label" for="subscriber-key-select">Subcriber Key</label>
                    <div class="slds-form-element__control">
                        <div class="slds-select_container">
                            <select class="slds-select" id="subscriber-key-select">
                                <option value="">Please select</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="slds-form-element slds-form-element_stacked">
                    <label class="slds-form-element__label" for="social-id-select">Social ID</label>
                    <div class="slds-form-element__control">
                        <div class="slds-select_container">
                            <select class="slds-select" id="social-id-select">
                                <option value="">Please select</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="slds-form-element slds-form-element_stacked">
                    <label class="slds-form-element__label" for="messageName">Message Name</label>
                    <div class="slds-form-element__control">
                        <input id="messageName" type="text" placeholder="Add your textâ€¦" class="slds-input" maxlength="100" />
                    </div>
                </div>
            </div>
            <div class="slds-col slds-size_2-of-3">
              <div id="preview">
                <h3>Content Preview</h3>
                <div id="previewContent" class="slds-is-relative"></div>
            </div>
            </div>
          </div>
        </div>
    </article>
    
    <script type="text/javascript" src="/js/custom_activity.js"></script>
    
</body>

</html>